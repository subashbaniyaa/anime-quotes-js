<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>anime-quotes-js</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" />
  <style>
    body{background:#1e1e1e;color:#d4d4d4;font-family:Segoe UI,Roboto,Arial,sans-serif;margin:0;padding:20px;}
    h1{font-size:24px;color:#60a5fa;margin-bottom:4px}
    .muted{color:#9ca3af}
    .card{background:#252526;border-radius:8px;padding:16px;margin-top:20px}
    .badge{height:20px;vertical-align:middle;margin-left:6px}
    pre{background:#1e1e1e;padding:0;border-radius:6px;overflow:auto;font-size:13px;position:relative;margin-top:0}
    pre code{display:block;padding:12px}
    code{font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;}
    .btn{display:inline-block;margin-right:8px;margin-top:8px;padding:6px 12px;border:none;border-radius:4px;background:#60a5fa;color:#1e1e1e;font-weight:600;cursor:pointer}
    .quote{font-size:18px;margin-top:12px}
    .quote-meta{font-size:13px;color:#9ca3af}
    .list{margin-top:12px;max-height:200px;overflow:auto;font-size:14px}
  </style>
</head>
<body>
  <h1>anime-quotes-js <img class="badge" src="https://img.shields.io/npm/v/anime-quotes-js.svg" alt="npm version"/></h1>
  <p class="muted">A simple Node.js module to fetch <strong>anime quotes</strong> from a JSON file.</p>

  <div class="card">
    <h3>Installation</h3>
    <pre><code class="language-bash">npm install anime-quotes-js</code></pre>
    <h3>Or using locally</h3>
    <pre><code class="language-bash">git clone https://github.com/subashbaniyaa/anime-quotes-js.git</code></pre>
    <h3>Import the module</h3>
    <pre><code class="language-javascript">import { getRandomQuote, getAllQuotes } from 'anime-quotes-js';</code></pre>
    <h3>Usage</h3>
    <pre><code class="language-javascript">// Get a random quote
const quote = await getRandomQuote();
console.log(quote);

// Get all quotes
const quotes = await getAllQuotes();
console.log(quotes);</code></pre>
  </div>

  <div class="card">
    <h3>Interactive demo</h3>
    <button id="randomBtn" class="btn">Random quote</button>
    <button id="allBtn" class="btn">Show all</button>
    <button id="downloadBtn" class="btn">View JSON</button>
    <div id="quote" class="quote">Click "Random quote" to get one.</div>
    <div id="quote-meta" class="quote-meta"></div>
    <div id="allList" class="list" style="display:none"></div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
  <script>
    async function fetchQuotes() {
      const res = await fetch('./quotes.json');
      if (!res.ok) throw new Error('Cannot fetch quotes.json');
      return res.json();
    }

    function delay(ms){return new Promise(res=>setTimeout(res,ms));}

    async function getRandomQuote(){
      const arr = await fetchQuotes();
      await delay(80);
      return arr[Math.floor(Math.random()*arr.length)];
    }

    async function getAllQuotes(){
      const arr = await fetchQuotes();
      await delay(80);
      return arr;
    }

    const randomBtn = document.getElementById('randomBtn');
    const allBtn = document.getElementById('allBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const quoteEl = document.getElementById('quote');
    const metaEl = document.getElementById('quote-meta');
    const allList = document.getElementById('allList');

    randomBtn.addEventListener('click', async ()=>{
      const q = await getRandomQuote();
      quoteEl.textContent = `"${q.quote}"`;
      metaEl.textContent = `${q.character} — ${q.anime}`;
      allList.style.display = 'none';
    });

    allBtn.addEventListener('click', async ()=>{
      const arr = await getAllQuotes();
      allList.innerHTML = arr.map(x=>`<div style='padding:6px 0;border-bottom:1px solid #333'><strong>"${x.quote}"</strong><div class='quote-meta'>${x.character} — ${x.anime}</div></div>`).join('');
      allList.style.display = 'block';
    });

    downloadBtn.addEventListener('click', ()=>{
      window.location.href = './quotes.json';
    });
  </script>
</body>
</html>
